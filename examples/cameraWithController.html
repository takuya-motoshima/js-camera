<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
  <title>Camera with controller</title>
</head>
<body>

  <js-camera id="camera" controls autoplay facing="back" width="1920" height="1080"></js-camera>

  <script type="module">
    import '../dist/build.esm.js';

    (async () => {

      // Camera element
      const camera = document.querySelector('#camera');

      // If you use the "autoplay" attribute to automatically open the camera, you can wait for the camera to fully open if necessary.
      await camera.waitOpen();

      // Camera event listener
      camera
        .on('opened', () => {
          // Called after opening the camera
          console.log('Opened the camera');
        })
        .on('played', () => {
          // Called after playing the camera from pause
          console.log('Camera resumed from pause');
        })
        .on('paused', () => {
          // Called after pausing the camera
          console.log('Camera paused');
        })
        .on('tookphoto', event => {
          // Returns the photo taken from the shoot button on the camera controller
          // The captured image can be received from "event.detail.dat" in base64 format.
          console.log(`Capture: ${event.detail.base64}`);// Capture: data:image/png;base64,iVB...
        });
    })();
  </script>
</body>
</html>